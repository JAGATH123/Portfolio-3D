<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Main Monitor Screen Position Finder</title>
    <style>
        body { margin: 0; padding: 20px; background: #1a1a1a; color: white; font-family: monospace; }
        #info { position: fixed; top: 10px; left: 10px; background: rgba(0,0,0,0.9); padding: 20px; border-radius: 5px; max-width: 600px; z-index: 100; max-height: 90vh; overflow-y: auto; }
        .result { background: rgba(0,255,0,0.2); padding: 15px; margin: 10px 0; border-radius: 5px; border: 2px solid #0f0; }
        pre { background: #000; padding: 10px; border-radius: 3px; overflow-x: auto; }
        button { background: #0af; border: none; color: white; padding: 8px 15px; margin: 5px; cursor: pointer; border-radius: 3px; }
        canvas { display: block; margin-top: 120px; }
    </style>
</head>
<body>
    <div id="info">
        <h2>üñ•Ô∏è Main Monitor Screen Position Finder</h2>
        <div id="results"></div>
    </div>
    <canvas id="canvas"></canvas>

    <script type="module">
        import * as THREE from 'three';
        import { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js';
        import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';

        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x1a1a1a);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(2, 1, 3);

        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas'), antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight - 120);
        renderer.setPixelRatio(window.devicePixelRatio);

        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(5, 10, 5);
        scene.add(directionalLight);

        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;

        const loader = new FBXLoader();
        loader.load('/Main_Monitor_1.fbx', (fbx) => {
            scene.add(fbx);

            let polySurface1077 = null;

            fbx.traverse((child) => {
                if (child.isMesh && child.name === 'polySurface1077') {
                    polySurface1077 = child;
                    console.log('Found polySurface1077!');
                }
            });

            if (polySurface1077) {
                const bbox = new THREE.Box3().setFromObject(polySurface1077);
                const size = new THREE.Vector3();
                bbox.getSize(size);
                const center = new THREE.Vector3();
                bbox.getCenter(center);

                // Get local position relative to main monitor model
                const localPos = fbx.worldToLocal(center.clone());

                // Calculate scale for 1920x1080 screen
                const scale = 1920 / (size.x * 1000); // Approximate scale

                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = `
                    <div class="result">
                        <h3>üìä Main Monitor Screen Position</h3>
                        <p><strong>World Position:</strong> (${center.x.toFixed(3)}, ${center.y.toFixed(3)}, ${center.z.toFixed(3)})</p>
                        <p><strong>Local Position:</strong> (${localPos.x.toFixed(3)}, ${localPos.y.toFixed(3)}, ${localPos.z.toFixed(3)})</p>
                        <p><strong>Screen Size:</strong> ${size.x.toFixed(3)} √ó ${size.y.toFixed(3)}</p>
                        <p><strong>Suggested Scale:</strong> ${scale.toFixed(4)}</p>

                        <h4>‚úÖ Update constants.js:</h4>
                        <pre>export const MAIN_MONITOR_CSS_OBJECT_POSITION = new Vector3(
  ${localPos.x.toFixed(3)},
  ${localPos.y.toFixed(3)},
  ${localPos.z.toFixed(3)}
);

export const MAIN_MONITOR_CSS_OBJECT_SCALE = new Vector3(
  ${scale.toFixed(4)},
  ${scale.toFixed(4)},
  1
);</pre>
                        <button onclick="navigator.clipboard.writeText(\`export const MAIN_MONITOR_CSS_OBJECT_POSITION = new Vector3(${localPos.x.toFixed(3)}, ${localPos.y.toFixed(3)}, ${localPos.z.toFixed(3)});
export const MAIN_MONITOR_CSS_OBJECT_SCALE = new Vector3(${scale.toFixed(4)}, ${scale.toFixed(4)}, 1);\`)">üìã Copy</button>
                    </div>
                `;

                // Show helper plane
                const geometry = new THREE.PlaneGeometry(size.x, size.y);
                const material = new THREE.MeshBasicMaterial({ color: 0x00ff00, side: THREE.DoubleSide, transparent: true, opacity: 0.3 });
                const helper = new THREE.Mesh(geometry, material);
                helper.position.copy(center);
                scene.add(helper);
            } else {
                document.getElementById('results').innerHTML = '<p style="color: red;">polySurface1077 not found!</p>';
            }
        });

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>
